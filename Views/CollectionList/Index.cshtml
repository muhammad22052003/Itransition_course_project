@using CourseProject_backend.Models.ViewModels;
@model CollectionListViewModel
@{
    Layout = "_MainLayoutWithController";
    ViewData["Title"] = "Collection list";
    ViewData.Add("Lang", Model.LanguagePack.Key);
}

<div class="container">
    <div class="row">
        <div class="col text-center d-flex justify-content-center">
            <h1 class="d-flex text-center">@Model.LanguagePack.Value["collection_word"]</h1>
        </div>
    </div>
    <div class="row">
        <div class="col text-center d-flex justify-content-center">
            <button class="btn-style-header-smaller btn-main-selectall-color">
                @Model.LanguagePack.Value["select_all"]
            </button>
        </div>
        <div class="col text-center d-flex justify-content-center">
            <button class="btn-style-header-smaller btn-main-selectall-color">
                @Model.LanguagePack.Value["cancel_all"]
            </button>
        </div>
    </div>
</div>

@{
    if (Model.Collections.Count == 0)
    {
        <section class="selection-catalogs">
            <div class="container">
                <div class="row">
                    <div class="col">
                        @Model.LanguagePack.Value["list_empty"];
                    </div>
                </div>
            </div>
        </section>
    }

    for (int i = 0; i < Model.Collections.Count; i++)
    {
        <section class="selection-catalogs">
            <div class="container">
                <div class="row">
                    <div class="col">
                        <!--<img class="content-image" src="../img/content.jpg">-->
                    </div>
                </div>
                <div class="row data-header">
                    <div class="col d-flex">
                        <input class="form-check-input data-checkbox" type="checkbox" value="" id="" />
                        <h3>@Model.Collections[i].Name</h3>
                    </div>
                    <div class="col d-flex justify-content-end">
                        <h6>Id : @Model.Collections[i].Id</h6>
                    </div>
                </div>
                <div class="row">
                    <div class="col d-flex justify-content-start">
                        <h6>@Model.LanguagePack.Value["category_word"] : @Model.Collections[i].Category.Name</h6>
                    </div>
                </div>
                <div class="row">
                    <div class="col d-flex justify-content-start">
                        <h6>@Model.LanguagePack.Value["created_word"] : @Model.Collections[i].CreatedTime.Date</h6>
                    </div>
                </div>
                <div class="row">
                    <div class="container">
                        <div class="row">
                            <div class="col text-center"></div>
                        </div>
                        <div class="row d-flex justify-content-start">
                            <div class="col">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    }

    <section class="pages-section">
        <div class="container">
            <div class="row d-flex justify-content-center text-center">
                <div class="col">

                    @{
                        if(Model.CurrentPage > 1){
                            <a href="@Url.Action("index","collectionlist",
                                    new{lang=Model.LanguagePack.Key,
                                    filter=Model.Filter.ToString(),
                                    value=Model.Value,
                                    sort=Model.Sort,
                                    page=Model.CurrentPage-1})" class="btn btn-page">
                                @{
                                    char a = '<';
                                }@a</a>
                        }
                    }
                    @{
                        for (int i = 1; i <= Model.PagesCount; i++)
                        {
                            if(Model.CurrentPage == i)
                            {
                                <a href="@Url.Action("index","collectionlist",
                                    new{lang=Model.LanguagePack.Key,
                                    filter=Model.Filter.ToString(),
                                    value=Model.Value,
                                    sort=Model.Sort,
                                    page=i})" class="btn btn-page btn-page-current">@($"{i}")</a>
                            }
                            else if (i > Model.CurrentPage && i >= Model.CurrentPage - 3)
                            {
                                <a href="@Url.Action("index","collectionlist",
                                    new{lang=Model.LanguagePack.Key,
                                    filter=Model.Filter.ToString(),
                                    value=Model.Value,
                                    sort=Model.Sort,
                                    page=i})" class="btn btn-page">@($"{i}")</a>
                            }
                            else
                            {
                                continue;
                            }
                        }
                    }
                    @{
                        if (Model.CurrentPage < Model.PagesCount)
                        {
                            <a href="@Url.Action("index","collectionlist",
                                    new{lang=Model.LanguagePack.Key,
                                    filter=Model.Filter.ToString(),
                                    value=Model.Value,
                                    sort=Model.Sort,
                                    page=Model.CurrentPage-1})" class="btn btn-page">
                            ></a>
                        }
                    }
                </div>
            </div>
        </div>
    </section>
}
